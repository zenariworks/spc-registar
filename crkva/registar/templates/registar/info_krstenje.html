{% extends "base.html" %}
{% load static %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'registar/print/krstenica.css' %}">
{% endblock %}
{% load julian_dates %}

{% block content %}

<div class="u-page-header">
    <a href="#" class="back-button" onclick="history.back(); return false;" aria-label="Назад" title="Назад">
        <i class="fa-solid fa-arrow-left"></i>
    </a>
    <h1 class="u-page-title">Крштеница</h1>
    <a href="{% url 'krstenje_pdf' krstenje.uid %}" target="_blank" class="u-link-primary">
        <button class="button button--primary" type="button" title="Штампај">
          <i class="fa-solid fa-print u-mr-2"></i> Штампај
        </button>
    </a>
</div>

<div class="krstenica">
    <div class="krstenica-frame">

        <!-- ============================================================
        HEADER
        ============================================================ -->

        <!-- Књига / Страна / Број -->
        <div class="krst-field-knjiga">{{ krstenje.knjiga }}</div>
        <div class="krst-field-strana">{{ krstenje.strana }}</div>
        <div class="krst-field-broj">{{ krstenje.broj }}</div>

        <!-- Епархије -->
        <div class="krst-field-eparhija">БЕОГРАДСКО - КАРЛОВАЧКЕ</div>

        <!-- Храм / Место / Година -->
        <div class="krst-field-hram">{{ krstenje.hram }}</div>
        <div class="krst-field-mesto">{{ krstenje.mesto }}у</div>
        <div class="krst-field-godina">{{ krstenje.datum|date:"y" }}</div>

        <!-- ============================================================
        MAIN TABLE FIELDS
        ============================================================ -->

        <!-- 1: Година, месец, дан и време рођења -->
        <div class="krst-table-field krst-field-rodjenje_datum">
            {{ krstenje.datum_rodjenja|julian_date }}, {{ krstenje.vreme_rodjenja }} часова
        </div>

        <!-- 2: Место и општина рођења -->
        <div class="krst-table-field krst-field-rodjenje_mesto">
            {{ krstenje.mesto_rodjenja }}
        </div>

        <!-- 3: Година, месец, дан и време крштења -->
        <div class="krst-table-field krst-field-krstenje_datum">
            {{ krstenje.datum|julian_date|default_if_none:"" }}{% if krstenje.vreme is not none %}, {{ krstenje.vreme }} часова{% endif %}
        </div>

        <!-- 4: Место и храм крштења -->
        <div class="krst-table-field krst-field-krstenje_mesto">
            {{ krstenje.mesto }}, {{ krstenje.hram }}
        </div>

        <!-- 5: Име и пол детета -->
        <div class="krst-table-field krst-field-ime_pol">
            {{ krstenje.ime_deteta }}{{ krstenje.gradjansko_ime_deteta }}, {{ krstenje.get_pol_deteta_display }}
        </div>

        <!-- 6: Родитељи -->
        <div class="krst-table-field krst-field-roditelji">
            {{ krstenje.ime_oca }} {{ krstenje.prezime_oca }}, {{ krstenje.zanimanje_oca|lower }} и<br>
            {{ krstenje.ime_majke }} {{ krstenje.prezime_majke }}, {{ krstenje.zanimanje_majke|lower }}<br>
            {{ krstenje.mesto }}, {{ krstenje.adresa_deteta_ulica }} {{ krstenje.adresa_deteta_broj }}<br>
            {{ krstenje.veroispovest_oca }}
        </div>

        <!-- 7: Које је дете по рођењу матери -->
        <div class="krst-table-field krst-field-dete_po_redu">
            {{ krstenje.dete_po_redu_po_majci }}
        </div>

        <!-- 8: Је ли дете црквено брачно -->
        <div class="krst-table-field krst-field-bracno">
            {{ krstenje.dete_vanbracno|yesno:"није,јесте" }}
        </div>

        <!-- 9: Је ли дете близанац -->
        <div class="krst-table-field krst-field-blizanac">
            {{ krstenje.dete_blizanac|yesno:"јесте,није" }}
        </div>

        <!-- 10: Је ли дете рођено са телесним недостатком -->
        <div class="krst-table-field krst-field-telesna_mana">
            {{ krstenje.dete_sa_telesnom_manom|yesno:"јесте,није,непознато" }}
        </div>

        <!-- 11: Име и презиме свештеника -->
        <div class="krst-table-field krst-field-svestenik">
            {{ krstenje.svestenik|default_if_none:"" }}
        </div>

        <!-- 12: Име и презиме кума -->
        <div class="krst-table-field krst-field-kum">
            {{ krstenje.ime_kuma }}, {{ krstenje.zanimanje_kuma }}<br>
            {{ krstenje.adresa_kuma_mesto }}
        </div>

        <!-- 13: Страна домовника - анаграфа -->
        <div class="krst-table-field krst-field-domovnik">
            <!-- Empty -->
        </div>

        <!-- 14: Примедба -->
        <div class="krst-table-field krst-field-primedba">
            {{ krstenje.primedba|default_if_none:"" }}
        </div>

        <!-- ============================================================
        FOOTER
        ============================================================ -->

        <div class="krst-field-footer_br">{% now "d.m" %}</div>
        <div class="krst-field-footer_godina">{% now "y" %}</div>
        <div class="krst-field-footer_u">Београду</div>
        <div class="krst-field-footer_parohija">{% if krstenje.svestenik %}{{ krstenje.svestenik.parohija }}{% endif %}</div>
        <div class="krst-field-footer_paroh">{% if krstenje.svestenik %}{{ krstenje.svestenik }}{% endif %}</div>

    </div>
</div>

{% endblock %}
