{% extends "base.html" %}
{% load static %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'registar/print/vencanica.css' %}">
{% endblock %}
{% load julian_dates %}

{% block content %}

<div class="u-page-header">
    <a href="#" class="back-button" onclick="history.back(); return false;" aria-label="Назад" title="Назад">
        <i class="fa-solid fa-arrow-left"></i>
    </a>
    <h1 class="u-page-title">Венчаница</h1>
    <a href="{% url 'vencanje_pdf' vencanje.uid %}" target="_blank" class="u-link-primary">
        <button class="button button--primary" type="button" title="Штампај">
          <i class="fa-solid fa-print u-mr-2"></i> Штампај
        </button>
    </a>
</div>

<div class="vencanica">
    <div class="vencanica-frame">

        <!-- ============================================================
        HEADER
        ============================================================ -->

        <!-- Књига / Страна / Текући број -->
        <div class="venc-field-knjiga">{{ vencanje.knjiga }}</div>
        <div class="venc-field-strana">{{ vencanje.strana }}</div>
        <div class="venc-field-tekuci">{{ vencanje.tekuci_broj }}</div>

        <!-- храма ___ епархије -->
        <div class="venc-field-hram">{{ vencanje.hram }}</div>
        <div class="venc-field-eparhija">Београдско-Карловачке</div>

        <!-- У ___ за 20__ годину -->
        <div class="venc-field-mesto">{{ vencanje.mesto_zenika }}</div>
        <div class="venc-field-godina">{{ vencanje.datum|date:"y" }}</div>

        <!-- ============================================================
        MAIN
        ============================================================ -->

        <!-- 1: Име, презиме и занимање венчаних -->
        <div class="venc-table-field venc-field-ime_zenika">
            <span>{{ vencanje.ime_zenika }} | {{ vencanje.zanimanje_zenika|lower }} | {{ vencanje.adresa_zenika }} | {{ vencanje.veroispovest_zenika|lower }}, {{ vencanje.narodnost_zenika|lower }}
        </div>
        <div class="venc-table-field venc-field-ime_neveste">
            <span>{{ vencanje.ime_neveste }} | {{ vencanje.zanimanje_neveste|lower }} | {{ vencanje.adresa_neveste }} | {{ vencanje.veroispovest_neveste|lower }}, {{ vencanje.narodnost_neveste|lower }}</span>
        </div>

        <!-- 2: Родитеља венчаних -->
        <div class="venc-table-field venc-field-roditelji_zenika">
            <span>{{ vencanje.svekar|default_if_none:"" }}</span>
            <span>{{ vencanje.svekrva|default_if_none:"" }}</span>
        </div>
        <div class="venc-table-field venc-field-roditelji_neveste">
            <span>{{ vencanje.tast|default_if_none:"" }}</span>
            <span>{{ vencanje.tasta|default_if_none:"" }}</span>
        </div>

        <!-- 3: Рођења венчаних -->
        <div class="venc-table-field venc-field-rodjenje_zenika">
            <span>{{ vencanje.datum_rodjenja_zenika|julian_date }}</span>
            <span class="venc-text-sm">{{ vencanje.mesto_rodjenja_zenika }}</span>
        </div>
        <div class="venc-table-field venc-field-rodjenje_neveste">
            <span>{{ vencanje.datum_rodjenja_neveste|julian_date }}</span>
            <span class="venc-text-sm">{{ vencanje.mesto_rodjenja_neveste }}</span>
        </div>

        <!-- 4: У који брак ступају -->
        <div class="venc-table-field venc-field-brak_zenika">{{ vencanje.zenik_rb_brak }}</div>
        <div class="venc-table-field venc-field-brak_neveste">{{ vencanje.nevesta_rb_brak }}</div>

        <!-- 5: Испитани и оглашени -->
        <div class="venc-table-field venc-field-ispit">{{ vencanje.datum_ispita|julian_date }}</div>

        <!-- 6: Датум венчања -->
        <div class="venc-table-field venc-field-datum_vencanja">{{ vencanje.datum|julian_date }}</div>

        <!-- 7: Место и храм -->
        <div class="venc-table-field venc-field-mesto_hram">{{ vencanje.mesto_zenika }}, {{ vencanje.hram }}</div>

        <!-- 8: Свештеник -->
        <div class="venc-table-field venc-field-svestenik">{{ vencanje.svestenik|default_if_none:"" }}</div>

        <!-- 9: Сведоци (кум и стари сват) -->
        <div class="venc-table-field venc-field-svedoci">
            <span>{{ vencanje.kum|default_if_none:"" }}</span>
            <span>{{ vencanje.stari_svat|default_if_none:"" }}</span>
        </div>

        <!-- 10: Разрешење -->
        <div class="venc-table-field venc-field-razresenje">{% if vencanje.razresenje %}Да{% else %}Не{% endif %}</div>

        <!-- 11: Примедба -->
        <div class="venc-table-field venc-field-primedba">{{ vencanje.primedba|default_if_none:"" }}</div>

        <!-- ============================================================
        FOOTER
        ============================================================ -->
        <div class="venc-field-footer_hram">{{ vencanje.hram }}</div>
        <div class="venc-field-footer_eparhija">Београдске</div>

        <div class="venc-field-footer_mesto">Београду</div>
        <div class="venc-field-footer_datum">{% now "j. F" %}</div>
        <div class="venc-field-footer_godina">{% now "y" %}</div>
        <div class="venc-field-footer_paroh">{% if vencanje.svestenik %}{{ vencanje.svestenik }}{% endif %}</div>
        <div class="venc-field-footer_parohija">{% if vencanje.svestenik %}{{ vencanje.svestenik.parohija }}{% endif %}</div>

    </div>
</div>

{% endblock %}
